<% flash.each do |key, value| %>
  <div class="alert alert-<%= key %>"><%= value %></div>
<% end %>

<h1 class="my-4">Partnership Matching</h1>

<table class="table table-striped table-hover">
  <thead>
      <tr>
      <th scope="col">#</th>
      <th scope="col">Chair #1</th>
      <th scope="col">Chair #2</th>
      <th scope="col">Action</th>
      </tr>
  </thead>
  <tbody>
    <!-- Unmatched Chairs at the top of the table -->
    <% unmatched_num = 1 %>
    <% @unmatched_chairs.each do |chair| %>
      <tr>
        <th scope="row"> <%= unmatched_num %> </th>
        <td> <%= @info.where(user_id: chair.user_id).first.name %> </td>
        <td> N/A </td>
        <td>
          <%= link_to("Find Match", edit_match_path(chair), class: "btn btn-success btn-sm") %>
        </td>
      </tr>
      <% unmatched_num = unmatched_num + 1 %>
    <% end %>

    <!-- All existing matches at the bottom of the table -->
    <% matched_num = 1 %>
    <% @matched_chairs.each do |matched_chair| %>
      <tr>
        <th scope="row"> <%= matched_num %> </th>
        <td> <%= @info.where(user_id: matched_chair.user_id).first.name %> </td>
        <td> <%= @info.where(user_id: matched_chair.matched_id).first.name %> </td>
        <td>
          <%= link_to("Edit Match", edit_match_path(matched_chair), class: "btn btn-success btn-sm") %>
        </td>
      </tr>
      <% matched_num = matched_num + 1 %>
    <% end %>
</table>