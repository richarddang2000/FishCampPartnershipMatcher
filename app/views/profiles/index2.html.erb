<div class="profile_index2">

<head>
</head>
	
	<style>
		.card {
			display: inline-block;
			margin-left: 10px;
			margin-right: 10px;
			width: 250px;
			height: 440px;
			opacity: 0.75;
			background-repeat: no-repeat;
			background-color: maroon;
			border: 20px solid rgba(0, 0, 0, 0.2);
		}
		#card-button {
			opacity: 0.95;
			border: 4px solid rgba(0, 0, 0, 0.2);
		}
		h3.centered {
			margin-left: auto;
			margin-right: auto;
			padding-bottom: 40px;
			width: 25em;
		}

		h1.margined {
			padding-top: 40px;
			padding-bottom: 40px;
		}	
		body {
			background-color: wheat;
			width: 100%;
			background-position: center;
			background-repeat: no-repeat;
			background-size: cover;
		}
		
	</style>
	
	<body>
		<div class = "my-4">
							
				<div class="profile_index">

					<div class = "container-fluid" style="font-family:Georgia">
						<% flash.each do |key, value| %>
							<div class="flash-notice <%= key %>"><%= value %></div>
						  <% end %>
						<br>
						<h1 style = "text-align: center">Welcome.</h1>
						<br>
						<hr style = "border: 1px solid black; width: 85%;">
						<br>
						<h3 class = "margined" style="text-align: center">Below, you will be able to learn about <b>ALL</b> of your potentially <b>PERFECT</b> partners.</h2>
					</div>
					<br><br><br><br>

				<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<div class = "container">
								<div class = "row">
									<div class="col-lg-6 mb-4">
										<div class="card text-white">
											<div class="card-body">
												<h5 class="card-title">Hello!</h5>
													<p class="card-text">Swipe to find your perfect partner.</p>
											</div>
											
											  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
												<span class="carousel-control-prev-icon" aria-hidden="true"></span>
												<span class="sr-only">Previous</span>
											  </a>
											  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
												<span class="carousel-control-next-icon" aria-hidden="true"></span>
												<span class="sr-only">Next</span>
											  </a>
			  
										</div>
									</div>
									<div class="col-lg-6 mb-4">
										<div class="card text-white" style = "visibility: hidden">
										</div>
									</div>
								</div>
							</div>
						</div>

						<% @profiles.each do |profile| %>
							<div class = "carousel-item"> 
								<div class = "container">
									<div class = "row">
										<div class="col-lg-6 mb-4">
											<div class="card text-white text-center">
												<div class="card-body">
													<h5 class="card-title"><%= profile.name%></h5>
														<br>
														<% if profile.aboutme.length > 180 %>
															<% substring = profile.aboutme[0..180] %>
															<p class = "card-text" style = "font-size: 14px"><%= substring %>...</p>
														<% else %>
															<p class="card-text" style = "font-size: 14px"><%= profile.aboutme %></p>
														<% end %> 
														<br>
														<div id = "card-button" class="btn btn-sm" style="background-color: Peru;"><%= link_to("View Profile", profile_path(profile), :class => "btn", style: "color:SeaShell") %></div>
												</div>
												
												  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
													<span class="carousel-control-prev-icon" aria-hidden="true"></span>
													<span class="sr-only">Previous</span>
												  </a>
												  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
													<span class="carousel-control-next-icon" aria-hidden="true"></span>
													<span class="sr-only">Next</span>
												  </a>
											</div>
										</div>
										
										<div class="col-lg-6 mb-4">
											<div class="card text-white">
												<div class="card-body">
													<!-- addresses spacing on the right card (teddy bear string is too long to fit on one line) -->
													<% if profile.ptanimal.eql? "The Accommodating Teddy Bear" %>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Animal</b><br><%= profile.ptanimal %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>True Colors</b><br><%= profile.pttruecolors %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Myers Briggs</b><br><%= profile.ptmyersbriggs %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Enneagram</b><br><%= profile.enneagram%></p>
													<% else %>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Animal</b><br><%= profile.ptanimal %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>True Colors</b><br><%= profile.pttruecolors %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Myers Briggs</b><br><%= profile.ptmyersbriggs %></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
														
														<p><b>Enneagram</b><br><%= profile.enneagram%></p>
														<hr style = "border: 1px solid brown; width: 100%; opacity: 0.9;">
													<% end %>
												</div>
											</div>
										</div>
									</div>	
								</div>
							</div>
						<% end %>
					</div>
				</div>
		</div>
		
		<ul style = "list-style-type: none">
			<form class = "inline">
				<li><input id="myInput" class="form-control mr-sm-2 my-4" style = "width: 20%" onkeyup="myFunction()" placeholder="Search for other chairs..."></li>
			</form>
		</ul>
		
		<ul id = "myUL" style = "list-style-type: none" class = "mt-4">
			<hr style = "border: 1px solid Tan; width: 100%; opacity: 0.9;">
			<% @profiles.each do |profile| %>
				<li><a href= "profiles/<%=profile.id %>" style = "color: black;"><%= profile.name %><% link_to(profile.name, profile_path(profile)) %>
					<br><hr style = "border: 1px solid Tan; width: 100%; opacity: 0.9;"></a>
				</li>
			<% end %> 
		</ul>
		<!---- algorithm from https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_filter_list ---->
		<script>
			function myFunction() {
				var input;
				input = document.getElementById("myInput");
				var filter;
				filter = input.value.toUpperCase();
				var ul;
				ul = document.getElementById("myUL");
				var li;
				li = ul.getElementsByTagName("li");
				var a, i, textValue;
				for (i = 0; i < li.length; i++) {
					a = li[i].getElementsByTagName("a")[0];
					textValue = a.textContent || a.innerText;
					if (textValue.toUpperCase().indexOf(filter) > -1) {
						li[i].style.display = "";
					} else {
						li[i].style.display = "none";
					}
				}
			}
		</script>
	</body>

</div>	
	<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: maroon; opacity: 0.60;">
		<a class="navbar-brand" href="#"> </a>
	</nav>
</div>
